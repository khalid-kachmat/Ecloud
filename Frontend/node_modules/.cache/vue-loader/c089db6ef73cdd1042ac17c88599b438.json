{"remainingRequest":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\src\\components\\AppointmentForm.vue?vue&type=style&index=0&id=43dd0583&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\src\\components\\AppointmentForm.vue","mtime":1625600116082},{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Zolmine\\PhpstormProjects\\FileRouge\\FrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCiNleGlzdGluZy1jdXN0b21lcnMtbGlzdCB7DQogIG92ZXJmbG93LXk6IGF1dG87DQogIG1hcmdpbi1ib3R0b206IDhweDsNCiAgZm9udC1zaXplOiAxMnB4Ow0KICBsaW5lLWhlaWdodDogMjJweDsNCiAgcG9pbnRlci1ldmVudHM6IGF1dG87DQp9DQoNCg0K"},{"version":3,"sources":["AppointmentForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8ZA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppointmentForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\r\n\r\n  <div class=\"w-full m-4  relative\">\r\n\r\n    <div class=\"flex justify-center items-center w-full \">\r\n      <h1 class=\" font-bold text-xl \">Appointment Details</h1>\r\n    </div>\r\n\r\n    <form @submit.prevent=\"sendDataIntoDataBase\" class=\" rounded-xl  bg-green-500  bg-opacity-10 w-3/4 p-10\">\r\n      <div><span style=\"color:red\" v-show=\"errorField\">{{ error }}</span>\r\n        <div class=\"flex justify-center items-center w-full space-x-12\">\r\n          <div class=\"flex w-1/2 flex-col justify-center\">\r\n            <label class=\"leading-loose\">Service<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n            <select @change=\"importServiceId\" v-model=\"service\" name=\"service\"\r\n                    class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3  sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n\r\n              <option v-bind:key=\"row.service_id\" v-for=\"row in servicesData\">{{ row.service_name }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"flex w-1/2 flex-col justify-center\">\r\n            <label class=\"leading-loose\">Start Date/Time<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n            <div class=\"flex full  justify-center\">\r\n              <input v-model=\"startDate\" name=\"startDate\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\"\r\n                     type=\"date\">\r\n              <input\r\n                  v-model=\"startTime\" name=\"startTime\"\r\n                  class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-30 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\"\r\n                  type=\"time\">\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"flex justify-center items-center w-full space-x-12\">\r\n          <div class=\"flex w-1/2 flex-col justify-center \">\r\n            <label class=\"leading-loose\">Doctor<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n            <select @change=\"importDocId\" v-model=\"doctor\" name=\"doctor\"\r\n                    class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n\r\n              <option v-bind:key=\"row.doc_id\" v-for=\"row in docsData\">{{ row.name }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"flex w-1/2 flex-col justify-center \">\r\n            <label class=\"leading-loose\">End Date/Time<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n            <div class=\"flex full  justify-center\">\r\n              <input v-model=\"endDate\" name=\"endDate\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\"\r\n                     type=\"date\">\r\n              <input v-model=\"endTime\" name=\"endTime\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-30 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\"\r\n                     type=\"time\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex justify-center items-center w-full space-x-12\">\r\n\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\" w-full justify-center items-center  py-12\">\r\n\r\n        <div class=\"flex w-full justify-center item-center space-x-3\">\r\n          <label class=\"leading-fixed font-semibold text-xl ml\">Patient Details</label>\r\n\r\n          <button\r\n              v-on:click.prevent=\"addPatient\"\r\n              class=\" p-1 border  border-gray-500 hover:border-white hover:text-white hover:bg-gray-500 text-gray-500 font-bold transition ease-in-out duration-700  rounded inline-flex items-center\">\r\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\r\n                 xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n            </svg>\r\n            <span>New</span>\r\n          </button>\r\n\r\n          <button\r\n              v-on:click.prevent=\"selectPatient\"\r\n              class=\" p-1 border  border-gray-500 hover:border-white hover:text-white hover:bg-gray-500 text-gray-500 font-bold transition ease-in-out duration-700  rounded inline-flex items-center\">\r\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\r\n                 xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                    d=\"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122\"></path>\r\n            </svg>\r\n            <span>{{ selectBtn ? 'Select' : 'Hide' }}</span>\r\n          </button>\r\n        </div>\r\n        <div class=\" \" :class=\"selectBtn ? 'hidden' : 'block' \">\r\n          <div class=\"flex w-full items-center justify-center\">\r\n            <input v-model=\"search\" type=\"search\" placeholder=\"Enter Patient name...\"\r\n                   class=\" my-3  p-1 border focus:ring-gray-500 focus:border-gray-900 w-1/2 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n          </div>\r\n          <div class=\"flex flex-wrap space-x-4 w-full bg-green-200 justify-center rounded-xl items-center\"\r\n               id=\"existing-customers-list\">\r\n\r\n            <button v-for=\"(row) in filter \" :key=\"row.patient_id\"\r\n                    v-on:click.prevent=\"displayPatientData(row.patient_id, row.patient_assurance_id)\"\r\n                    class=\" p-0.5 my-2 border-black text-black font-semibold  hover:border-white hover:text-gray-600 hover:bg-white  font-bold transition ease-in-out duration-700  rounded \"\r\n                    v-bind:id=\"row.patient_id\">{{ row.patient_first_name }} {{ row.patient_last_name }}\r\n            </button>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"block \" :class=\"addBtn ? 'hidden' : 'block'\">\r\n          <div class=\"flex items-center justify-center w-full py-4 space-x-4\">\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold \">First Name<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n              <input v-model=\"firstName\" type=\"text\" name=\"firstName\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n            </div>\r\n            <input name=\"patient_id\" hidden v-model=\"patientId\">\r\n            <input name=\"assurance_id\" hidden v-model=\"assuranceId\">\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold \">Date of birth<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n              <div class=\"flex items-center space-x-4\">\r\n                <input v-model=\"birthDate\" type=\"date\" name=\"birthDate\"\r\n                       class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"flex flex-col 1/4 justify-center\">\r\n              <label class=\"leading-loose font-semibold \">Age</label>\r\n              <input v-model=\"age\" type=\"number\" readonly name=\"age\"\r\n                     class=\"font-bold   bg-transparent  w-16  rounded-md focus:outline-none text-gray-600\">\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"flex items-center justify-center w-full py-4 space-x-4\">\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold \">Last Name<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n              <input v-model=\"lastName\" type=\"text\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n            </div>\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold \">Cin<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n\r\n              <input v-model=\"cin\" type=\"text\"\r\n                     class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-center justify-center w-full py-4 space-x-4\">\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold \">Note</label>\r\n              <textarea\r\n                  v-model=\"note\"\r\n                  rows=\"4\"\r\n                  name=\"note\"\r\n                  id=\"note\"\r\n                  placeholder=\"Note\"\r\n                  class=\"w-full h-28 py-2 px-3 focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600 \"\r\n\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"flex w-1/2 flex-col justify-center\">\r\n              <label class=\"leading-loose font-semibold p-2 \">Assurance<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n              <div class=\"flex items-center space-x-4\">\r\n                <label>Yes</label>\r\n                <input type=\"radio\" name=\"assuranceVisibility\" v-model=\"assuranceVisibility\" value=\"Yes\" class=\"\">\r\n                <label>No</label>\r\n                <input type=\"radio\" v-model=\"assuranceVisibility\" value=\"No\" name=\"assuranceVisibility\" class=\"\">\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex w-1/2 flex-col justify-center\" v-show=\"assuranceVisibility === 'Yes'\">\r\n            <label class=\"leading-loose font-semibold \">Select Assurance Type<span class=\"text-red-500\">\r\n        *\r\n       </span></label>\r\n            <select @change=\"importAssuranceId\" name=\"assurance\" v-model=\"assurance\"\r\n                    class=\"px-4 py-2 border focus:ring-gray-500 focus:border-gray-900 w-2/3 sm:text-sm border-gray-300 rounded-md focus:outline-none text-gray-600\">\r\n\r\n              <option v-bind:key=\"row.assurance_id\" v-for=\"row in assurancesData\">{{ row.assurance_name }}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex flex-col items-center justify-center w-full\">\r\n        <button\r\n            type=\"submit\"\r\n            class=\"w-1/2 px-1 py-1  border  border-gray-500 hover:border-white hover:text-white hover:bg-gray-500 text-gray-500 font-bold transition ease-in-out duration-700  rounded \">\r\n          Save\r\n        </button>\r\n        <span class=\"m-4 text-red-500\" v-show=\"errorField\">{{ error }}</span>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"CalendarForm\",\r\n  props: [\r\n    'startTime',\r\n    'startDate',\r\n    'endTime',\r\n    'endDate',\r\n    'start',\r\n    'end',\r\n  ],\r\n  data() {\r\n    return {\r\n      assuranceId: '',\r\n      patientId: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      cin: '',\r\n      birthDate: '',\r\n      age: '20',\r\n      assurance: '',\r\n      note: '',\r\n      selectBtn: true,\r\n      addBtn: true,\r\n      assuranceVisibility: 'No',\r\n      patientsData: '',\r\n      assurancesData: '',\r\n      search: '',\r\n      docsData: '',\r\n      doctor: '',\r\n      docId: '',\r\n      service: '',\r\n      serviceId: '',\r\n      servicesData: '',\r\n      error: 'All Field with * are requires',\r\n      errorField: false,\r\n      // newDate:'',\r\n\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    filter() {\r\n      const data = this.patientsData\r\n\r\n      return data.filter(item => {\r\n        return item.patient_first_name.includes(this.search) || item.patient_last_name.includes(this.search)\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchPatientsData()\r\n    this.fetchAssuranceData()\r\n    this.fetchDocData()\r\n    this.fetchServicesData()\r\n\r\n\r\n  },\r\n  methods: {\r\n    selectPatient() {\r\n      this.selectBtn = !this.selectBtn\r\n    },\r\n    addPatient() {\r\n      this.addBtn = !this.addBtn\r\n    },\r\n    fetchPatientsData() {\r\n      fetch('http://127.0.0.1:8000/api/patients', {\r\n        method: 'get'\r\n      })\r\n          .then(res => res.json())\r\n          .then(data => this.patientsData = data)\r\n\r\n    },\r\n\r\n    fetchAssuranceData() {\r\n      fetch('http://127.0.0.1:8000/api/assurances', {\r\n        method: 'get'\r\n      })\r\n          .then(res => res.json())\r\n          .then(data => this.assurancesData = data)\r\n    },\r\n    fetchDocData() {\r\n      fetch('http://127.0.0.1:8000/api/getdocdata', {\r\n        method: 'get'\r\n      })\r\n          .then(res => res.json())\r\n          .then(data => this.docsData = data)\r\n    },\r\n\r\n    fetchServicesData() {\r\n      fetch('http://127.0.0.1:8000/api/services', {\r\n        method: 'get'\r\n      })\r\n          .then(res => res.json())\r\n          .then(data => this.servicesData = data)\r\n    }\r\n    ,\r\n    displayPatientData(patientIid, assuranceId) {\r\n\r\n      this.assuranceId = '';\r\n      this.addBtn = false;\r\n      this.patientsData.forEach(item => {\r\n\r\n        if (item.patient_id === patientIid) {\r\n          this.patientId = item.patient_id\r\n          this.firstName = item.patient_first_name;\r\n          this.lastName = item.patient_last_name;\r\n          this.birthDate = item.patient_birth;\r\n          this.age = item.patient_age;\r\n          this.cin = item.patient_cin\r\n          this.assuranceVisibility = item.patient_assurance;\r\n          this.note = item.patient_note\r\n        }\r\n      })\r\n\r\n      this.assurancesData.forEach(item => {\r\n        if (item.assurance_id == assuranceId) {\r\n          this.assurance = item.assurance_name\r\n          this.assuranceId = item.assurance_id\r\n\r\n        }\r\n      })\r\n\r\n    },\r\n    sendDataIntoDataBase() {\r\n      if (this.firstName === '' || this.lastName === '' || this.cin === '' || this.birthDate === '' || this.age === '' || this.assuranceVisibility === '' || this.doctor === '' || this.service === '' || this.startTime === '' || this.startDate === '' || this.endDate === '' || this.endTime === '') {\r\n        this.errorField = true\r\n      } else {\r\n        const data = {\r\n          method: 'POST',\r\n          body: JSON.stringify({\r\n            assuranceId: this.assuranceId,\r\n            patientId: this.patientId,\r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            cin: this.cin,\r\n            birthDate: this.birthDate,\r\n            age: this.age,\r\n            assuranceVisibility: this.assuranceVisibility,\r\n            note: this.note,\r\n            docId: this.docId,\r\n            serviceId: this.serviceId,\r\n            startTime: this.startTime,\r\n            startDate: this.startDate,\r\n            endTime: this.endTime,\r\n            endDate: this.endDate,\r\n            start: this.start,\r\n            end: this.end,\r\n          })\r\n        };\r\n        fetch('http://127.0.0.1:8000/api/getAppointmentData', data);\r\n        this.clearFields()\r\n\r\n      }\r\n\r\n    },\r\n    importAssuranceId() {\r\n      this.assurancesData.forEach(item => {\r\n        if (item.assurance_name === this.assurance) {\r\n          this.assuranceId = item.assurance_id;\r\n        }\r\n      })\r\n    },\r\n    importDocId() {\r\n      this.docsData.forEach(item => {\r\n        if (item.name === this.doctor) {\r\n          this.docId = item.doc_user_id;\r\n          console.log(this.docId)\r\n        }\r\n      })\r\n    },\r\n    importServiceId() {\r\n      this.servicesData.forEach(item => {\r\n        if (item.service_name === this.service) {\r\n          this.serviceId = item.service_id;\r\n          console.log(this.serviceId)\r\n\r\n        }\r\n      })\r\n    },\r\n    clearFields() {\r\n      this.startDate = '';\r\n      this.startTime = '';\r\n      this.endDate = '';\r\n      this.endTime = '';\r\n      this.start = '';\r\n      this.end = '';\r\n      this.service = '';\r\n      this.doctor = '';\r\n      this.firstName = '';\r\n      this.lastName = '';\r\n      this.age = '';\r\n      this.birthDate = '';\r\n      this.note = '';\r\n      this.addBtn = true\r\n      this.selectBtn = true\r\n      this.$refs.calendar.$emit('refetch-events')\r\n\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#existing-customers-list {\r\n  overflow-y: auto;\r\n  margin-bottom: 8px;\r\n  font-size: 12px;\r\n  line-height: 22px;\r\n  pointer-events: auto;\r\n}\r\n\r\n\r\n</style>"]}]}